{"version":3,"sources":["js/b-app.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA,GAAA;;AAAA,EAAA,GAAA,GAAM,OAAO,CAAC,MAAR,CAAe,MAAf,EAAuB,CAC3B,eAD2B,EAE3B,cAF2B,EAG3B,cAH2B,EAI3B,OAJ2B,EAK3B,SAL2B,EAM3B,cAN2B,CAAvB,CAAN,CAAA;;AAAA,EAWA,GAAG,CAAC,OAAJ,CAAY,UAAZ,EAAwB,SAAC,KAAD,GAAA;WACtB;AAAA,MAAA,SAAA,EAAW,KAAK,CAAC,GAAN,CAAU,uDAAV,CAAX;MADsB;EAAA,CAAxB,CAXA,CAAA;;AAAA,EAeA,GAAG,CAAC,OAAJ,CAAY,MAAZ,EAAoB,SAAA,GAAA;AAClB,QAAA,WAAA;AAAA,IAAA,WAAA,GAAc,SAAC,MAAD,EAAS,cAAT,GAAA;aAA4B,SAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,GAAA;AACxC,QAAA,IAAG,CAAI,cAAA,KAAkB,SAArB,GAAoC,CAAA,IAAK,MAAzC,GAAqD,CAAA,GAAI,MAA1D,CAAH;iBAA0E,CAAA,GAAI,EAA9E;SAAA,MAAA;iBAAqF,EAArF;SADwC;MAAA,EAA5B;IAAA,CAAd,CAAA;WAGA;AAAA,MAAA,OAAA,EAAS,SAAC,IAAD,EAAO,MAAP,GAAA;eACP,CACE,IAAI,CAAC,MAAL,CAAY,WAAA,CAAY,MAAZ,EAAoB,OAApB,CAAZ,EAA0C,CAA1C,CADF,EAEE,IAAI,CAAC,MAAL,CAAY,WAAA,CAAY,MAAZ,EAAoB,SAApB,CAAZ,EAA4C,CAA5C,CAFF,EADO;MAAA,CAAT;MAJkB;EAAA,CAApB,CAfA,CAAA;;AAAA,EAyBA,GAAG,CAAC,OAAJ,CAAY,IAAZ,EAAkB,SAAA,GAAA;WAAG,GAAH;EAAA,CAAlB,CAzBA,CAAA;;AAAA,EA2BA,GAAG,CAAC,UAAJ,CAAe,aAAf,EAA8B,SAAC,QAAD,GAAA;AAC5B,IAAA,QAAQ,CAAC,SAAS,CAAC,IAAnB,CAAwB,CAAA,SAAA,KAAA,GAAA;aAAA,SAAC,IAAD,GAAA;AAAU,QAAA,KAAC,CAAA,IAAD,GAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAA3B,CAAV;MAAA,EAAA;IAAA,CAAA,CAAA,CAAA,IAAA,CAAxB,CAAA,CAD4B;EAAA,CAA9B,CA3BA,CAAA;;AAAA,EA+BA,GAAG,CAAC,MAAJ,CAAW,OAAX,EAAoB,SAAA,GAAA;WAClB,SAAC,KAAD,EAAQ,QAAR,GAAA;AACE,MAAA,IAAI,aAAJ;eACE,OADF;OAAA,MAEK,IAAG,KAAA,IAAS,IAAZ;eACH,CAAC,KAAA,GAAQ,IAAT,CAAc,CAAC,OAAf,CAAuB,CAAvB,CAAA,GAA4B,KADzB;OAAA,MAAA;eAEA,KAAK,CAAC,OAAN,CAAc,QAAd,EAFA;OAHP;IAAA,EADkB;EAAA,CAApB,CA/BA,CAAA;AAAA","file":"js/b-app.js","sourceRoot":"/source/","sourcesContent":["app = angular.module 'BApp', [\n  'B.Chart.Users'\n  'B.Table.Cmds'\n  'B.Table.Pkgs'\n  'B.Map'\n  'B.Delta'\n  'ui.bootstrap' # TODO: use custom build\n  # 'B.Templates'\n]\n\n# TODO swap out w/ api.bower.io endpoint when ready\napp.factory 'bDataSvc', ($http) ->\n  fetchAllP: $http.get \"https://bower-server-etl.herokuapp.com/api/1/data/all\"\n\n# period over period helper funcs\napp.factory 'bPoP', ->\n  _reduceFunc = (period, currentOrPrior) -> (a, b, i) ->\n    if (if currentOrPrior is 'current' then i >= period else i < period) then a + b else a\n\n  process: (data, period) ->\n    [\n      data.reduce _reduceFunc(period, 'prior'), 0\n      data.reduce _reduceFunc(period, 'current'), 0\n    ]\n\napp.factory 'd3', -> d3\n\napp.controller 'BHeaderCtrl', (bDataSvc) ->\n  bDataSvc.fetchAllP.then (data) => @pkgs = data.data.overview.totalPackages; return\n  return\n\napp.filter 'round', ->\n  (input, decimals) ->\n    if !input?\n      undefined\n    else if input >= 1000\n      (input / 1000).toFixed(1) + ' k' # e.g. 206.1 k; toFixed() returns string\n    else input.toFixed decimals\n"]}